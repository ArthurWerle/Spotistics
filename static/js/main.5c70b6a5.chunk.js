(this.webpackJsonpspotistics=this.webpackJsonpspotistics||[]).push([[0],{20:function(e,n,t){e.exports=t(29)},22:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=(t(22),t(9)),o=t.n(c),i=t(10),u=t(11),l=t(12),s=t(17),m=t(13),f=t(4),p=t(18),d=window.location.hash.substring(1).split("&").reduce((function(e,n){if(n){var t=n.split("=");e[t[0]]=decodeURIComponent(t[1])}return e}),{});window.location.hash="";var b=d,h=t(5),y=["user-read-recently-played"],v=t(1),g=t(2),E="#1bb952",x="white;";function k(){var e=Object(v.a)(["\n    border-radius: 2em;\n    background: ",";\n    border: 0.2em solid ",";\n    cursor: pointer;\n    color: rgb(255, 255, 255);\n    font-size: 3vmin;\n    padding: 0.7em 1.5em;\n    text-transform: uppercase;\n    transition: all 0.25s ease;\n    text-decoration: none;\n    margin: 0 auto;\n\n    :hover {\n        border: 0.2em solid #1ed760;\n        background-color: #1ed760;\n        color: rgb(255, 255, 255);\n    }\n"]);return k=function(){return e},e}function j(){var e=Object(v.a)(["\n    margin-top: 0;\n    margin-bottom: 5em;\n"]);return j=function(){return e},e}var w=g.a.p(j()),O=g.a.a(k(),E,E);var z=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null," Spotistics "),a.a.createElement(w,null,"Login with your spotify account and see your ",a.a.createElement("em",null," most listened ")," tracks and artists"),a.a.createElement(O,{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("49c1e8e2a2474e76a62429a01cc8176d","&redirect_uri=").concat("https://arthurwerle.github.io/Spotistics/","&scope=").concat(y.join("%20"),"\n                    &response_type=token&show_dialog=true")},"Login to Spotify"))};var S=function(e){return a.a.createElement("div",null,a.a.createElement("div",null,"Hey ",e.user,", what's up?"))},A=function(e){return!!e.user};function T(){var e=Object(v.a)(["\n    max-width: 17em;\n    max-height: 12em;\n    width: auto;\n    height: auto;\n    display: block;\n    font-size: 15px;\n"]);return T=function(){return e},e}function _(){var e=Object(v.a)(["\n    display: block;\n    font-style: italic;\n    font-weight: bolder;\n    font-size: 16px;\n"]);return _=function(){return e},e}function B(){var e=Object(v.a)(["\n    display: block;\n    font-style: italic;\n    font-size: 11x;\n"]);return B=function(){return e},e}function U(){var e=Object(v.a)(["\n    display: block;\n    text-align: center;\n    width: min-content;\n    flex: 1;\n"]);return U=function(){return e},e}var C=g.a.div(U()),F=g.a.label(B()),N=g.a.label(_()),P=g.a.img(T());var R=function(e){return a.a.createElement(C,null,a.a.createElement(P,{src:e.img}),a.a.createElement(N,null,e.name),a.a.createElement(F,null,e.artist))};function G(){var e=Object(v.a)(["\n    padding: 30px;\n"]);return G=function(){return e},e}function I(){var e=Object(v.a)(["\n    justify-items: center;\n    padding: 50px 25px;\n    justify-content: center;\n    border-radius: 10px;\n    display: grid;\n    background-color: white;;\n    grid-template-columns: repeat(5, 0fr);\n    grid-gap: 10px;\n"]);return I=function(){return e},e}function M(){var e=Object(v.a)(["\n"]);return M=function(){return e},e}function D(){var e=Object(v.a)(["\n    flex: 5;\n    background-color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: rgb(0, 0, 0);\n"]);return D=function(){return e},e}function H(){var e=Object(v.a)(["\n    background-color: "," !important;\n    padding: 50px;\n    color: ",";\n    text-align: center !important;\n    display: block !important;\n\n    > a {\n        margin-left: 10px;\n        border: none;\n        font-size: 45px;\n        color: black;\n    }\n\n    > div {\n        margin-top: 2em;\n    }\n"]);return H=function(){return e},e}function J(){var e=Object(v.a)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n"]);return J=function(){return e},e}function L(){var e=Object(v.a)(["\n    color: ",";\n"]);return L=function(){return e},e}function Q(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    display: flex;\n    flex-direction: column;\n"]);return Q=function(){return e},e}var Y=g.a.div(Q()),W=g.a.h1(L(),x),q=g.a.footer(J(),(function(e){var n=e.color;return void 0===n?"white":n})),K=Object(g.a)(q)(H(),E,x),V=g.a.div(D()),X=g.a.div(M()),Z=g.a.div(I()),$=g.a.div(G());var ee=function(e){return a.a.createElement($,null,a.a.createElement(W,null," Your top tracks "),a.a.createElement(Z,null,e.items.map((function(e){return a.a.createElement(R,{key:e.id,name:e.name,artist:e.artists[0].name,img:e.album.images[1].url})}))))};var ne=function(e){return a.a.createElement($,null,a.a.createElement(W,null," Recently played "),a.a.createElement(Z,null,e.items.map((function(e){return a.a.createElement(R,{key:e.track.id,name:e.track.name,artist:e.track.artists[0].name,img:e.track.album.images[1].url})}))))};var te=function(e){return a.a.createElement($,null,a.a.createElement(W,null," Your top artists "),a.a.createElement(Z,null,e.items.map((function(e){return a.a.createElement(R,{key:e.id,name:e.name,img:e.images[1].url})}))))};function re(){var e=Object(v.a)(["\n    color: #F00\n"]);return re=function(){return e},e}function ae(){var e=Object(v.a)(["\n    font-style: italic;\n    font-size: 14px;\n    justify-content: center;\n    color: ","\n"]);return ae=function(){return e},e}var ce=g.a.div(ae(),(function(e){return e.color})),oe=g.a.span(re());var ie=function(e){return a.a.createElement(ce,{color:e.color},a.a.createElement("label",null,"Made with "),a.a.createElement(oe,null," ",a.a.createElement(h.b,null)),a.a.createElement("span",null," by "),a.a.createElement("a",{href:"https://www.linkedin.com/in/arthur-werle-a8635a114/"}," ",a.a.createElement("span",null,"me")," "))},ue=t(3),le=t.n(ue),se=function(e,n){var t,r,a;return le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t={method:"GET",headers:{Authorization:"Bearer ".concat(n)}},c.next=3,le.a.awrap(fetch("https://api.spotify.com/v1/me/top/".concat(e),t));case 3:return r=c.sent,c.next=6,le.a.awrap(r.json());case 6:return a=c.sent,c.abrupt("return",a);case 8:case"end":return c.stop()}}))},me=function(e){var n,t,r;return le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={method:"GET",headers:{Authorization:"Bearer ".concat(e)}},a.next=3,le.a.awrap(fetch("https://api.spotify.com/v1/me",n));case 3:return t=a.sent,a.next=6,le.a.awrap(t.json());case 6:return r=a.sent,a.abrupt("return",r);case 8:case"end":return a.stop()}}))},fe=function(e){var n,t,r;return le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={method:"GET",headers:{Authorization:"Bearer ".concat(e)}},a.next=3,le.a.awrap(fetch("https://api.spotify.com/v1/me/player/recently-played",n));case 3:return t=a.sent,a.next=6,le.a.awrap(t.json());case 6:return r=a.sent,a.abrupt("return",r);case 8:case"end":return a.stop()}}))},pe=function(e){function n(){var e;return Object(u.a)(this,n),(e=Object(s.a)(this,Object(m.a)(n).call(this))).state={user:null,token:null,topTracks:[],topArtists:[],recentlyPlayed:[]},e.getUser=me.bind(Object(f.a)(e)),e.getRecentlyPlayed=fe.bind(Object(f.a)(e)),e.getUserTop=se.bind(Object(f.a)(e)),e}return Object(p.a)(n,e),Object(l.a)(n,[{key:"executeQueries",value:function(e){var n=this,t=function(e){var t=e.type;return function(e){n.setState(Object(i.a)({},t,e.items?e.items:e))}};me(e).then(t({type:"user"})),fe(e).then(t({type:"recentlyPlayed"})),se("tracks",e).then(t({type:"topTracks"})),se("artists",e).then(t({type:"topArtists"}))}},{key:"componentDidMount",value:function(){var e=b.access_token;e&&(this.setState({token:e}),this.executeQueries(e))}},{key:"render",value:function(){var e=this;return a.a.createElement(Y,{className:"body"},function(){if(!A(e.state))return a.a.createElement(V,{className:"login page"},!A(e.state)&&a.a.createElement(z,null),A(e.state)&&a.a.createElement(S,{user:e.state.user.display_name}))}(),function(){if(A(e.state))return a.a.createElement(X,{className:"mainContainer"},a.a.createElement(ne,{items:e.state.recentlyPlayed}),a.a.createElement(te,{items:e.state.topArtists}),a.a.createElement(ee,{items:e.state.topTracks}),a.a.createElement(K,null,a.a.createElement("a",{href:"https://github.com/ArthurWerle/Spotistics"},a.a.createElement(h.a,null)),a.a.createElement(ie,{color:x})))}(),function(){if(!A(e.state))return a.a.createElement(q,null,a.a.createElement(ie,null))}())}}]),n}(r.Component);o.a.render(a.a.createElement(pe,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.5c70b6a5.chunk.js.map