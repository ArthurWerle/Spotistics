(this.webpackJsonpspotistics=this.webpackJsonpspotistics||[]).push([[0],{20:function(n,e,t){n.exports=t(29)},22:function(n,e,t){},29:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=(t(22),t(9)),o=t.n(i),c=t(3),l=t.n(c),u=t(10),s=t(11),m=t(12),p=t(17),f=t(13),d=t(5),h=t(18),E=window.location.hash.substring(1).split("&").reduce((function(n,e){if(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])}return n}),{});window.location.hash="";var b=E,g=t(4),v=["user-read-recently-played"],y=t(1),x=t(2),O="375px",k={$GREEN_HEX_CODE:"#1bb952",$DEFAULT_TEXT_COLOR:"white;",$DEFAULT_BORDER_RADIUS:"10px;",$LG_ICON_SIZE:"45px;",$MD_ICON_SIZE:"35px;",mobile:"(max-width: ".concat("425px",")"),smallMobile:"(max-width: ".concat(O,")"),GET_DEFAULT_HEADERS_BY:function(n){return{headers:{Authorization:"Bearer ".concat(n)}}}};function w(){var n=Object(y.a)(["\n    border-radius: 2em;\n    background: ",";\n    border: 0.2em solid ",";\n    cursor: pointer;\n    color: rgb(255, 255, 255);\n    font-size: 3vmin;\n    padding: 0.7em 1.5em;\n    text-transform: uppercase;\n    text-decoration: none;\n    margin: 0 auto;\n\n    :hover {\n        border: 0.2em solid #1ed760;\n        background-color: #1ed760;\n        color: rgb(255, 255, 255);\n    }\n\n    @media "," {\n        width: 60%;\n        height: 6%;\n        font-size: 20px !important;\n        text-align: center;\n    }\n"]);return w=function(){return n},n}function _(){var n=Object(y.a)(["\n    margin-top: 0;\n    margin-bottom: 5em;\n    padding: 30px;\n    text-align: center;\n\n    @media "," {\n        width: 60%;\n        height: 6%;\n        font-size: 15px !important;\n        text-align: center;\n        margin-bottom: 3em !important;\n    }\n"]);return _=function(){return n},n}function j(){var n=Object(y.a)(["\n    @media "," {\n        font-size: 65px;\n    }\n\n    @media "," {\n        font-size: 50px;\n    }\n"]);return j=function(){return n},n}var R=x.a.h1(j(),k.mobile,k.smallMobile),S=x.a.p(_(),k.mobile),I=x.a.a(w(),k.$GREEN_HEX_CODE,k.$GREEN_HEX_CODE,k.mobile);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null," Spotistics "),r.a.createElement(S,null,"Login with your spotify account and see your ",r.a.createElement("em",null," recently played ")," and ",r.a.createElement("em",null," most listened ")," tracks and artists"),r.a.createElement(I,{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("49c1e8e2a2474e76a62429a01cc8176d","&redirect_uri=").concat("https://arthurwerle.github.io/Spotistics/","&scope=").concat(v.join("%20"),"\n                    &response_type=token&show_dialog=true")},"Login to Spotify"))},T=function(n){return!!n.user};function A(){var n=Object(y.a)(["\n    max-width: 17em;\n    max-height: 12em;\n    width: auto;\n    height: auto;\n    display: block;\n    font-size: 15px;\n\n    @media "," {\n        display: none !important;\n    }\n"]);return A=function(){return n},n}function z(){var n=Object(y.a)(["\n    max-width: 17em;\n    max-height: 12em;\n    width: auto;\n    height: auto;\n    display: none;\n    font-size: 15px;\n\n    @media "," {\n        display: block !important;\n        max-width: 64px;\n        max-height: 64px;\n    }\n"]);return z=function(){return n},n}function U(){var n=Object(y.a)(["\n    display: block;\n    font-style: italic;\n    font-weight: bolder;\n    font-size: 16px;\n\n    @media "," {\n        font-size: 12px !important;\n    }\n"]);return U=function(){return n},n}function C(){var n=Object(y.a)(["\n    display: block;\n    font-style: italic;\n    font-size: 11px;\n\n    @media "," {\n        font-size: 8px !important;\n    }\n"]);return C=function(){return n},n}function L(){var n=Object(y.a)(["\n    display: block;\n    text-align: center;\n    width: min-content;\n    flex: 1;\n"]);return L=function(){return n},n}var F=x.a.div(L()),$=x.a.label(C(),k.mobile),N=x.a.label(U(),k.mobile),G=x.a.img(z(),k.mobile),B=x.a.img(A(),k.mobile);var H=function(n){return r.a.createElement(F,null,r.a.createElement(G,{src:n.smallImg}),r.a.createElement(B,{src:n.largeImg}),r.a.createElement(N,null,n.name),r.a.createElement($,null,n.artist))};function Y(){var n=Object(y.a)(["\n    margin-right: 0.4em;\n    font-size: ","\n"]);return Y=function(){return n},n}function M(){var n=Object(y.a)(["\n    > div, h1 {\n        display: inline-block !important\n    }\n"]);return M=function(){return n},n}var X=x.a.div(M()),P=x.a.div(Y(),k.$MD_ICON_SIZE);function Z(){var n=Object(y.a)(["\n    padding: 30px;\n    background-color: ",";\n    border-radius: ",";\n"]);return Z=function(){return n},n}function J(){var n=Object(y.a)(["\n    justify-items: center;\n    padding: 50px 25px;\n    justify-content: center;\n    border-radius: 10px;\n    display: grid;\n    background-color: white;;\n    grid-template-columns: repeat(5, 0fr);\n    grid-gap: 10px;\n\n    @media "," {\n        grid-template-columns: repeat(4, 0fr);\n    }\n\n    @media "," {\n        grid-template-columns: repeat(3, 0fr);\n    }\n"]);return J=function(){return n},n}function Q(){var n=Object(y.a)(["\n"]);return Q=function(){return n},n}function W(){var n=Object(y.a)(["\n    flex: 5;\n    background-color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: rgb(0, 0, 0);\n"]);return W=function(){return n},n}function q(){var n=Object(y.a)(["\n    background-color: "," !important;\n    padding: 50px;\n    color: ",";\n    text-align: center !important;\n    display: block !important;\n\n    > a {\n        margin-left: 10px;\n        border: none;\n        font-size: ",";\n        color: black;\n    }\n\n    > div {\n        margin-top: 2em;\n    }\n"]);return q=function(){return n},n}function K(){var n=Object(y.a)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n"]);return K=function(){return n},n}function V(){var n=Object(y.a)(["\n    color: ",";\n"]);return V=function(){return n},n}function nn(){var n=Object(y.a)(["\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    display: flex;\n    flex-direction: column;\n"]);return nn=function(){return n},n}function en(){var n=Object(y.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 49%;\n    top: 40%;\n    width: 80px;\n    height: 80px;\n\n    @media "," {\n        left: 41% !important;\n    }\n\n    div {\n        position: absolute;\n        top: 33px;\n        width: 13px;\n        height: 13px;\n        border-radius: 50%;\n        background: #fff;\n        animation-timing-function: cubic-bezier(0, 1, 1, 0);\n    }\n\n    div:nth-child(1) {\n        left: 8px;\n        animation: lds-ellipsis1 0.6s infinite;\n    }\n\n    div:nth-child(2) {\n        left: 8px;\n        animation: lds-ellipsis2 0.6s infinite;\n    }\n\n    div:nth-child(3) {\n        left: 32px;\n        animation: lds-ellipsis2 0.6s infinite;\n    }\n\n    div:nth-child(4) {\n        left: 56px;\n        animation: lds-ellipsis3 0.6s infinite;\n    }\n\n    @keyframes lds-ellipsis1 {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: scale(1);\n        }\n    }\n        \n    @keyframes lds-ellipsis3 {\n        0% {\n            transform: scale(1);\n        }\n\n        100% {\n            transform: scale(0);\n        }\n    }\n\n    @keyframes lds-ellipsis2 {\n        0% {\n            transform: translate(0, 0);\n        }\n\n        100% {\n            transform: translate(24px, 0);\n        }\n    }\n"]);return en=function(){return n},n}var tn=x.a.div(en(),k.mobile),an=x.a.div(nn()),rn=x.a.h1(V(),(function(n){var e=n.color;return void 0===e?k.$DEFAULT_TEXT_COLOR:e})),on=x.a.footer(K(),(function(n){var e=n.color;return void 0===e?"white":e})),cn=Object(x.a)(on)(q(),k.$GREEN_HEX_CODE,k.$DEFAULT_TEXT_COLOR,k.$LG_ICON_SIZE),ln=x.a.div(W()),un=x.a.div(Q()),sn=x.a.div(J(),k.mobile,k.smallMobile),mn=x.a.div(Z(),(function(n){return n.color}),(function(n){return n.borderRadius}));var pn=function(n){return r.a.createElement(mn,{color:"white",borderRadius:k.$DEFAULT_BORDER_RADIUS},r.a.createElement(X,null,r.a.createElement(P,null,function(){if(n.type.getIcon)return n.type.getIcon()}()),r.a.createElement(rn,{color:"rgb(0,0,0);"},function(){if(n.type.title)return n.type.title}())),r.a.createElement("p",null,n.text))},fn={SORRY:{code:1,title:"Sorry...",getIcon:function(){return r.a.createElement(g.a,null)}},ERROR:{code:2,title:"Ops..",getIcon:function(){return r.a.createElement(g.e,null)}},SUCCESS:{code:3,title:"Done!",getIcon:function(){return r.a.createElement(g.d,null)}}};var dn=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Your top tracks "),function(){var e;return!(null===(e=n.items)||void 0===e?void 0:e.length)}()?r.a.createElement(pn,{type:fn.SORRY,text:"It looks like you don't have enough spotify activity for this."}):r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(H,{key:n.id,name:n.name,artist:n.artists[0].name,smallImg:n.album.images[2].url,largeImg:n.album.images[1].url})}))))};var hn=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Recently played "),r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(H,{key:n.track.id,name:n.track.name,artist:n.track.artists[0].name,smallImg:n.track.album.images[2].url,largeImg:n.track.album.images[1].url})}))))};var En=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Your top artists "),function(){var e;return!(null===(e=n.items)||void 0===e?void 0:e.length)}()?r.a.createElement(pn,{type:fn.SORRY,text:"It looks like you don't have enough spotify activity for this."}):r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(H,{key:n.id,name:n.name,smallImg:n.images[2].url,largeImg:n.images[1].url})}))))};function bn(){var n=Object(y.a)(["\n    color: #F00\n"]);return bn=function(){return n},n}function gn(){var n=Object(y.a)(["\n    font-style: italic;\n    font-size: 14px;\n    justify-content: center;\n    color: ","\n"]);return gn=function(){return n},n}var vn=x.a.div(gn(),(function(n){return n.color})),yn=x.a.span(bn());var xn=function(n){return r.a.createElement(vn,{color:n.color},r.a.createElement("label",null,"Made with "),r.a.createElement(yn,null," ",r.a.createElement(g.c,null)),r.a.createElement("span",null," by "),r.a.createElement("a",{href:"https://www.linkedin.com/in/arthur-werle-a8635a114/"}," ",r.a.createElement("span",null,"me")," "))},On=k.GET_DEFAULT_HEADERS_BY,kn=function(n,e){var t,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,r.prev=1,r.next=4,l.a.awrap(fetch("https://api.spotify.com/v1/me/top/".concat(n),On(e)));case 4:return a=r.sent,r.next=7,l.a.awrap(a.text());case 7:t=""===(t=r.sent)?[]:JSON.parse(t),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),console.log("getUserTop ".concat(n,": ").concat(r.t0," "));case 14:return r.prev=14,r.abrupt("return",t);case 17:case"end":return r.stop()}}),null,null,[[1,11,14,17]])},wn=k.GET_DEFAULT_HEADERS_BY,_n=function(n){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(fetch("https://api.spotify.com/v1/me",wn(n)));case 2:return e=a.sent,a.next=5,l.a.awrap(e.json());case 5:return t=a.sent,a.abrupt("return",t);case 7:case"end":return a.stop()}}))},jn=k.GET_DEFAULT_HEADERS_BY,Rn=function(n){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(fetch("https://api.spotify.com/v1/me/player/recently-played",jn(n)));case 2:return e=a.sent,a.next=5,l.a.awrap(e.json());case 5:return t=a.sent,a.abrupt("return",t);case 7:case"end":return a.stop()}}))},Sn=function(n){function e(){var n;return Object(s.a)(this,e),(n=Object(p.a)(this,Object(f.a)(e).call(this))).state={loading:!1,user:null,token:null,topTracks:[],topArtists:[],recentlyPlayed:[]},n.getUser=_n.bind(Object(d.a)(n)),n.getRecentlyPlayed=Rn.bind(Object(d.a)(n)),n.getUserTop=kn.bind(Object(d.a)(n)),n}return Object(h.a)(e,n),Object(m.a)(e,[{key:"executeQueries",value:function(n){var e=this,t=function(n){var t=n.type;return function(n){n&&e.setState(Object(u.a)({},t,n.items?n.items:n))}};return new Promise((function(e,a){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(_n(n).then(t({type:"user"})));case 3:return r.next=5,l.a.awrap(Rn(n).then(t({type:"recentlyPlayed"})));case 5:return r.next=7,l.a.awrap(kn("tracks",n).then(t({type:"topTracks"})));case 7:return r.next=9,l.a.awrap(kn("artists",n).then(t({type:"topArtists"})));case 9:r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(0),a(r.t0),r.t0;case 15:e();case 16:case"end":return r.stop()}}),null,null,[[0,11]])}))}},{key:"componentDidMount",value:function(){var n=this,e=b.access_token;e&&(n.setState({loading:!0}),this.setState({token:e}),this.executeQueries(e).then((function(){n.setState({loading:!1})})))}},{key:"render",value:function(){var n=this;return r.a.createElement(an,{className:"body"},function(){if(!T(n.state))return r.a.createElement(ln,{className:"login page"},!T(n.state)&&r.a.createElement(D,null))}(),!this.state.loading&&function(){if(T(n.state))return r.a.createElement(un,{className:"mainContainer"},r.a.createElement(hn,{items:n.state.recentlyPlayed}),r.a.createElement(En,{items:n.state.topArtists}),r.a.createElement(dn,{items:n.state.topTracks}),r.a.createElement(cn,null,r.a.createElement("a",{href:"https://github.com/ArthurWerle/Spotistics"},r.a.createElement(g.b,null)),r.a.createElement(xn,{color:k.$DEFAULT_TEXT_COLOR})))}(),this.state.loading&&r.a.createElement(tn,null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),function(){if(!T(n.state))return r.a.createElement(on,null,r.a.createElement(xn,null))}())}}]),e}(a.Component);o.a.render(r.a.createElement(Sn,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a8d497e8.chunk.js.map