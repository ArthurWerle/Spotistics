(this.webpackJsonpspotistics=this.webpackJsonpspotistics||[]).push([[0],{20:function(n,e,t){n.exports=t(29)},22:function(n,e,t){},29:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=(t(22),t(9)),o=t.n(i),c=t(3),l=t.n(c),u=t(10),s=t(11),m=t(12),p=t(17),f=t(13),d=t(5),h=t(18),b=window.location.hash.substring(1).split("&").reduce((function(n,e){if(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])}return n}),{});window.location.hash="";var g=b,E=t(4),v=["user-read-recently-played"],x=t(1),y=t(2),O="375px",k={$GREEN_HEX_CODE:"#1bb952",$DEFAULT_TEXT_COLOR:"white;",$DEFAULT_BORDER_RADIUS:"10px;",$LG_ICON_SIZE:"45px;",$MD_ICON_SIZE:"35px;",mobile:"(max-width: ".concat("425px",")"),smallMobile:"(max-width: ".concat(O,")")};function w(){var n=Object(x.a)(["\n    border-radius: 2em;\n    background: ",";\n    border: 0.2em solid ",";\n    cursor: pointer;\n    color: rgb(255, 255, 255);\n    font-size: 3vmin;\n    padding: 0.7em 1.5em;\n    text-transform: uppercase;\n    text-decoration: none;\n    margin: 0 auto;\n\n    :hover {\n        border: 0.2em solid #1ed760;\n        background-color: #1ed760;\n        color: rgb(255, 255, 255);\n    }\n\n    @media "," {\n        width: 60%;\n        height: 6%;\n        font-size: 20px !important;\n        text-align: center;\n    }\n"]);return w=function(){return n},n}function j(){var n=Object(x.a)(["\n    margin-top: 0;\n    margin-bottom: 5em;\n    padding: 30px;\n    text-align: center;\n\n    @media "," {\n        width: 60%;\n        height: 6%;\n        font-size: 15px !important;\n        text-align: center;\n        margin-bottom: 3em !important;\n    }\n"]);return j=function(){return n},n}function _(){var n=Object(x.a)(["\n    @media "," {\n        font-size: 65px;\n    }\n\n    @media "," {\n        font-size: 50px;\n    }\n"]);return _=function(){return n},n}var R=y.a.h1(_(),k.mobile,k.smallMobile),I=y.a.p(j(),k.mobile),S=y.a.a(w(),k.$GREEN_HEX_CODE,k.$GREEN_HEX_CODE,k.mobile);var z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null," Spotistics "),r.a.createElement(I,null,"Login with your spotify account and see your ",r.a.createElement("em",null," most listened ")," tracks and artists"),r.a.createElement(S,{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("49c1e8e2a2474e76a62429a01cc8176d","&redirect_uri=").concat("https://arthurwerle.github.io/Spotistics/","&scope=").concat(v.join("%20"),"\n                    &response_type=token&show_dialog=true")},"Login to Spotify"))},T=function(n){return!!n.user};function D(){var n=Object(x.a)(["\n    max-width: 17em;\n    max-height: 12em;\n    width: auto;\n    height: auto;\n    display: block;\n    font-size: 15px;\n\n    @media "," {\n        display: none !important;\n    }\n"]);return D=function(){return n},n}function C(){var n=Object(x.a)(["\n    max-width: 17em;\n    max-height: 12em;\n    width: auto;\n    height: auto;\n    display: none;\n    font-size: 15px;\n\n    @media "," {\n        display: block !important;\n        max-width: 64px;\n        max-height: 64px;\n    }\n"]);return C=function(){return n},n}function A(){var n=Object(x.a)(["\n    display: block;\n    font-style: italic;\n    font-weight: bolder;\n    font-size: 16px;\n\n    @media "," {\n        font-size: 12px !important;\n    }\n"]);return A=function(){return n},n}function L(){var n=Object(x.a)(["\n    display: block;\n    font-style: italic;\n    font-size: 11px;\n\n    @media "," {\n        font-size: 8px !important;\n    }\n"]);return L=function(){return n},n}function U(){var n=Object(x.a)(["\n    display: block;\n    text-align: center;\n    width: min-content;\n    flex: 1;\n"]);return U=function(){return n},n}var $=y.a.div(U()),F=y.a.label(L(),k.mobile),N=y.a.label(A(),k.mobile),G=y.a.img(C(),k.mobile),M=y.a.img(D(),k.mobile);var X=function(n){return r.a.createElement($,null,r.a.createElement(G,{src:n.smallImg}),r.a.createElement(M,{src:n.largeImg}),r.a.createElement(N,null,n.name),r.a.createElement(F,null,n.artist))};function B(){var n=Object(x.a)(["\n    margin-right: 0.4em;\n    font-size: ","\n"]);return B=function(){return n},n}function H(){var n=Object(x.a)(["\n    > div, h1 {\n        display: inline-block !important\n    }\n"]);return H=function(){return n},n}var P=y.a.div(H()),Y=y.a.div(B(),k.$MD_ICON_SIZE);function Z(){var n=Object(x.a)(["\n    padding: 30px;\n    background-color: ",";\n    border-radius: ",";\n"]);return Z=function(){return n},n}function J(){var n=Object(x.a)(["\n    justify-items: center;\n    padding: 50px 25px;\n    justify-content: center;\n    border-radius: 10px;\n    display: grid;\n    background-color: white;;\n    grid-template-columns: repeat(5, 0fr);\n    grid-gap: 10px;\n\n    @media "," {\n        grid-template-columns: repeat(4, 0fr);\n    }\n\n    @media "," {\n        grid-template-columns: repeat(3, 0fr);\n    }\n"]);return J=function(){return n},n}function Q(){var n=Object(x.a)(["\n"]);return Q=function(){return n},n}function W(){var n=Object(x.a)(["\n    flex: 5;\n    background-color: #ffffff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: rgb(0, 0, 0);\n"]);return W=function(){return n},n}function q(){var n=Object(x.a)(["\n    background-color: "," !important;\n    padding: 50px;\n    color: ",";\n    text-align: center !important;\n    display: block !important;\n\n    > a {\n        margin-left: 10px;\n        border: none;\n        font-size: ",";\n        color: black;\n    }\n\n    > div {\n        margin-top: 2em;\n    }\n"]);return q=function(){return n},n}function K(){var n=Object(x.a)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n"]);return K=function(){return n},n}function V(){var n=Object(x.a)(["\n    color: ",";\n"]);return V=function(){return n},n}function nn(){var n=Object(x.a)(["\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    display: flex;\n    flex-direction: column;\n"]);return nn=function(){return n},n}function en(){var n=Object(x.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 49%;\n    top: 40%;\n    width: 80px;\n    height: 80px;\n\n    @media "," {\n        left: 41% !important;\n    }\n\n    div {\n        position: absolute;\n        top: 33px;\n        width: 13px;\n        height: 13px;\n        border-radius: 50%;\n        background: #fff;\n        animation-timing-function: cubic-bezier(0, 1, 1, 0);\n    }\n\n    div:nth-child(1) {\n        left: 8px;\n        animation: lds-ellipsis1 0.6s infinite;\n    }\n\n    div:nth-child(2) {\n        left: 8px;\n        animation: lds-ellipsis2 0.6s infinite;\n    }\n\n    div:nth-child(3) {\n        left: 32px;\n        animation: lds-ellipsis2 0.6s infinite;\n    }\n\n    div:nth-child(4) {\n        left: 56px;\n        animation: lds-ellipsis3 0.6s infinite;\n    }\n\n    @keyframes lds-ellipsis1 {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: scale(1);\n        }\n    }\n        \n    @keyframes lds-ellipsis3 {\n        0% {\n            transform: scale(1);\n        }\n\n        100% {\n            transform: scale(0);\n        }\n    }\n\n    @keyframes lds-ellipsis2 {\n        0% {\n            transform: translate(0, 0);\n        }\n\n        100% {\n            transform: translate(24px, 0);\n        }\n    }\n"]);return en=function(){return n},n}var tn=y.a.div(en(),k.mobile),an=y.a.div(nn()),rn=y.a.h1(V(),(function(n){var e=n.color;return void 0===e?k.$DEFAULT_TEXT_COLOR:e})),on=y.a.footer(K(),(function(n){var e=n.color;return void 0===e?"white":e})),cn=Object(y.a)(on)(q(),k.$GREEN_HEX_CODE,k.$DEFAULT_TEXT_COLOR,k.$LG_ICON_SIZE),ln=y.a.div(W()),un=y.a.div(Q()),sn=y.a.div(J(),k.mobile,k.smallMobile),mn=y.a.div(Z(),(function(n){return n.color}),(function(n){return n.borderRadius}));var pn=function(n){return r.a.createElement(mn,{color:"white",borderRadius:k.$DEFAULT_BORDER_RADIUS},r.a.createElement(P,null,r.a.createElement(Y,null,function(){if(n.type.getIcon)return n.type.getIcon()}()),r.a.createElement(rn,{color:"rgb(0,0,0);"},function(){if(n.type.title)return n.type.title}())),r.a.createElement("p",null,n.text))},fn={SORRY:{code:1,title:"Sorry...",getIcon:function(){return r.a.createElement(E.a,null)}},ERROR:{code:2,title:"Ops..",getIcon:function(){return r.a.createElement(E.e,null)}},SUCCESS:{code:3,title:"Done!",getIcon:function(){return r.a.createElement(E.d,null)}}};var dn=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Your top tracks "),function(){var e;return!(null===(e=n.items)||void 0===e?void 0:e.length)}()?r.a.createElement(pn,{type:fn.SORRY,text:"For some reason, didn't found your top tracks."}):r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(X,{key:n.id,name:n.name,artist:n.artists[0].name,smallImg:n.album.images[2].url,largeImg:n.album.images[1].url})}))))};var hn=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Recently played "),r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(X,{key:n.track.id,name:n.track.name,artist:n.track.artists[0].name,smallImg:n.track.album.images[2].url,largeImg:n.track.album.images[1].url})}))))};var bn=function(n){return r.a.createElement(mn,null,r.a.createElement(rn,null," Your top artists "),function(){var e;return!(null===(e=n.items)||void 0===e?void 0:e.length)}()?r.a.createElement(pn,{type:fn.SORRY,text:"For some reason, didn't found your top artists."}):r.a.createElement(sn,null,n.items.map((function(n){return r.a.createElement(X,{key:n.id,name:n.name,smallImg:n.images[2].url,largeImg:n.images[1].url})}))))};function gn(){var n=Object(x.a)(["\n    color: #F00\n"]);return gn=function(){return n},n}function En(){var n=Object(x.a)(["\n    font-style: italic;\n    font-size: 14px;\n    justify-content: center;\n    color: ","\n"]);return En=function(){return n},n}var vn=y.a.div(En(),(function(n){return n.color})),xn=y.a.span(gn());var yn=function(n){return r.a.createElement(vn,{color:n.color},r.a.createElement("label",null,"Made with "),r.a.createElement(xn,null," ",r.a.createElement(E.c,null)),r.a.createElement("span",null," by "),r.a.createElement("a",{href:"https://www.linkedin.com/in/arthur-werle-a8635a114/"}," ",r.a.createElement("span",null,"me")," "))},On=function(n,e){var t,a,r;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t={method:"GET",headers:{Authorization:"Bearer ".concat(e)}},a=null,i.prev=2,i.next=5,l.a.awrap(fetch("https://api.spotify.com/v1/me/top/".concat(n),t));case 5:return r=i.sent,i.next=8,l.a.awrap(r.clone().json());case 8:a=i.sent,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(2),console.log(i.t0);case 14:return i.prev=14,i.abrupt("return",a);case 17:case"end":return i.stop()}}),null,null,[[2,11,14,17]])},kn=function(n){var e,t,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e={method:"GET",headers:{Authorization:"Bearer ".concat(n)}},r.next=3,l.a.awrap(fetch("https://api.spotify.com/v1/me",e));case 3:return t=r.sent,r.next=6,l.a.awrap(t.json());case 6:return a=r.sent,r.abrupt("return",a);case 8:case"end":return r.stop()}}))},wn=function(n){var e,t,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e={method:"GET",headers:{Authorization:"Bearer ".concat(n)}},r.next=3,l.a.awrap(fetch("https://api.spotify.com/v1/me/player/recently-played",e));case 3:return t=r.sent,r.next=6,l.a.awrap(t.json());case 6:return a=r.sent,r.abrupt("return",a);case 8:case"end":return r.stop()}}))},jn=function(n){function e(){var n;return Object(s.a)(this,e),(n=Object(p.a)(this,Object(f.a)(e).call(this))).state={loading:!1,user:null,token:null,topTracks:[],topArtists:[],recentlyPlayed:[]},n.getUser=kn.bind(Object(d.a)(n)),n.getRecentlyPlayed=wn.bind(Object(d.a)(n)),n.getUserTop=On.bind(Object(d.a)(n)),n}return Object(h.a)(e,n),Object(m.a)(e,[{key:"executeQueries",value:function(n){var e=this,t=function(n){var t=n.type;return function(n){n&&e.setState(Object(u.a)({},t,n.items?n.items:n))}};return new Promise((function(e,a){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(kn(n).then(t({type:"user"})));case 3:return r.next=5,l.a.awrap(wn(n).then(t({type:"recentlyPlayed"})));case 5:return r.next=7,l.a.awrap(On("tracks",n).then(t({type:"topTracks"})));case 7:return r.next=9,l.a.awrap(On("artists",n).then(t({type:"topArtists"})));case 9:r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(0),a(r.t0),r.t0;case 15:e();case 16:case"end":return r.stop()}}),null,null,[[0,11]])}))}},{key:"componentDidMount",value:function(){var n=this,e=g.access_token;e&&(n.setState({loading:!0}),this.setState({token:e}),this.executeQueries(e).then((function(){n.setState({loading:!1})})))}},{key:"render",value:function(){var n=this;return r.a.createElement(an,{className:"body"},function(){if(!T(n.state))return r.a.createElement(ln,{className:"login page"},!T(n.state)&&r.a.createElement(z,null))}(),!this.state.loading&&function(){if(T(n.state))return r.a.createElement(un,{className:"mainContainer"},r.a.createElement(hn,{items:n.state.recentlyPlayed}),r.a.createElement(bn,{items:n.state.topArtists}),r.a.createElement(dn,{items:n.state.topTracks}),r.a.createElement(cn,null,r.a.createElement("a",{href:"https://github.com/ArthurWerle/Spotistics"},r.a.createElement(E.b,null)),r.a.createElement(yn,{color:k.$DEFAULT_TEXT_COLOR})))}(),this.state.loading&&r.a.createElement(tn,null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),function(){if(!T(n.state))return r.a.createElement(on,null,r.a.createElement(yn,null))}())}}]),e}(a.Component);o.a.render(r.a.createElement(jn,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.8ffe48a6.chunk.js.map